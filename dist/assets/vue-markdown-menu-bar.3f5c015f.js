import{r as _,e as T,B as M,o as r,c as u,a as i,S as h,L as v,u as f,n as y,K as B,a5 as g,M as x,T as I}from"./@vue.430f041f.js";const d=(t,e)=>{const n=t.__vccOpts||t;for(const[l,o]of e)n[l]=o;return n};function b(t=0){const e=document.documentElement||document.body;let n=Math.abs(e.scrollTop-t)/20,l=0,o=n,c=-1;function s(){l=e.scrollTop;let a=l-t;c==l||a==0||(c=l,window.requestAnimationFrame(function(){if(n=a>0?o:-o,l-=n,Math.abs(a)<o){e.scrollTop=t;return}e.scrollTop=l,Math.abs(a)>0&&s()}))}s()}function k(t,e){let n=null;return function(...l){const o=this;clearTimeout(n),n=setTimeout(()=>{t.apply(o,l)},e)}}function w(){const t=_(0);return T(()=>{document.addEventListener("scroll",k(function(){t.value=(document.documentElement||document.body).scrollTop},50))}),t}const C=["level"],S=M({__name:"MenuBarItem",props:{MenuItem:null},setup(t){const e=w();return(n,l)=>(r(),u("div",{class:"o_menu-bar_title",level:t.MenuItem.level},[i("span",{class:v({o_active:f(e)>=t.MenuItem.offset&&f(e)<t.MenuItem.offsetMax})},h(t.MenuItem.title),3)],8,C))}});const D=d(S,[["__scopeId","data-v-35208a68"]]);function E(t){const e=_([]);return y(()=>{e.value=A(t)}),e}function A(t){const e=[];return p(e,document.querySelector(t)),P(e),e}function p(t,e,n){const l=e==null?void 0:e.tagName.toLowerCase();if((e==null?void 0:e.nodeType)==1&&l[0]==="h"){const o={offsetMax:0};o.title=e.textContent+"",o.level=+l[1],o.offset=L(e),o.target=e,t.push(o)}else{if(!e||e.nodeType!=1)return;let o=Array.from(e.children);for(let c of o)p(t,c)}}function L(t){let e=t==null?void 0:t.offsetTop,n=t.offsetParent;for(;n!==null;)e+=n.offsetTop,n=n.offsetParent;return e}function P(t){for(let e=0,n=t.length;e<n;e++)e+1<n?t[e].offsetMax=t[e+1].offset:t[e].offsetMax=1/0}const F={class:"o_menu_title"},G={class:"o_menu_bar_container"},N=M({__name:"MenuBar",props:{body:null,width:null,menuTitle:null},emits:["MenuBarClick"],setup(t,{emit:e}){const{width:n,body:l}=t,o=E(l);function c(s){b(s.offset),e("MenuBarClick",s)}return(s,a)=>(r(),u("div",{class:"o_navigator_menu",style:I({width:typeof t.width=="number"?t.width+"px":t.width})},[i("h3",F,h(t.menuTitle||"\u76EE\u5F55"),1),i("div",G,[(r(!0),u(B,null,g(f(o),m=>(r(),x(D,{MenuItem:m,onClick:V=>c(m)},null,8,["MenuItem","onClick"]))),256))])],4))}});const q=d(N,[["__scopeId","data-v-e79cfac0"]]);export{q as V,d as _};
