import{b as ge,c as ve,d as Fe,e as ye,f as ne,g as Ce,h as he,i as Ee,j as we,k as De,l as be,m as Ae}from"./element-plus.7ded2c1f.js";import{B as A,o as d,c as F,C as ue,H as I,I as ee,a as c,K as D,a5 as P,L as V,S as B,u as s,r as y,a9 as Be,M as x,O as g,Q as p,a3 as M,y as C,ao as K,ap as W,aq as E,ag as xe,w as oe,a1 as $e,T as ae}from"./@vue.cc64ee3f.js";import{s as R,q as b,c as T,r as le,a as H,w as j,o as ke,H as Se,g as Me,i as Te,b as Oe,e as Ve}from"./index.6132fc0e.js";import{_ as $}from"./index.bdacc949.js";import{T as ie}from"./vue-codemirror.827a8e27.js";import{F as Le,G as Pe}from"./@codemirror.bef71bb9.js";import{g as Re,a as Ne}from"./config.01249216.js";import{m as q}from"./markdown-transform-html.09786a4c.js";import{u as Ue,b as He}from"./vue-router.baf4e960.js";import"./@vueuse.66e9a5bb.js";import"./@element-plus.ebae34d9.js";import"./lodash-es.b61273cf.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./jspdf.93f2685e.js";import"./@babel.2898e469.js";import"./fflate.fca59393.js";import"./html2canvas.4d0ab5af.js";import"./aos.e37f4dc9.js";import"./nprogress.8e3ae131.js";import"./codemirror.4711333d.js";import"./@lezer.3d33f011.js";import"./crelt.67277586.js";import"./style-mod.a2e40363.js";import"./w3c-keyname.30cf5eb3.js";const Ie=[{name:"\u5BFC\u5165/\u5BFC\u51FA",multiple:!0,children:["\u5BFC\u5165MD","\u5BFC\u51FAMD"],icon:"iconfont icon-book nav-icon"},{name:"\u9996\u9875",path:"/home",icon:"iconfont icon-home nav-icon",tooltip:!1},{name:"\u7B80\u5386\u6A21\u677F",path:"/theme",icon:"iconfont icon-template nav-icon",tooltip:!1},{name:"\u5185\u7F6E\u56FE\u6807",icon:"iconfont icon-application nav-icon",tooltip:!0},{name:"\u8BED\u6CD5\u52A9\u624B",path:"/syntax/helper",icon:"iconfont icon-problem nav-icon",tooltip:!1}],je="3737803",qe="markdown-resume",ze="iconfont",Ke="icon-",We="",Ge=[{icon_id:"1176853",name:"card",font_class:"card",unicode:"e6b4",unicode_decimal:59060},{icon_id:"1293134",name:"head",font_class:"head",unicode:"e609",unicode_decimal:58889},{icon_id:"1410620",name:"work",font_class:"work",unicode:"e6fc",unicode_decimal:59132},{icon_id:"3153821",name:"practice",font_class:"practice",unicode:"e60b",unicode_decimal:58891},{icon_id:"7207749",name:"organization",font_class:"organization",unicode:"e60f",unicode_decimal:58895},{icon_id:"7239576",name:"trophy",font_class:"trophy",unicode:"e70d",unicode_decimal:59149},{icon_id:"18125947",name:"book",font_class:"book",unicode:"e862",unicode_decimal:59490},{icon_id:"18592431",name:"city",font_class:"city",unicode:"e687",unicode_decimal:59015},{icon_id:"160001",name:"home",font_class:"home",unicode:"e600",unicode_decimal:58880},{icon_id:"386278",name:"baidu",font_class:"baidu",unicode:"e6b6",unicode_decimal:59062},{icon_id:"4936984",name:"QQ",font_class:"QQ",unicode:"e882",unicode_decimal:59522},{icon_id:"9848172",name:"tencent",font_class:"tencent",unicode:"e620",unicode_decimal:58912},{icon_id:"10506955",name:"wechat",font_class:"wechat",unicode:"e619",unicode_decimal:58905},{icon_id:"10678426",name:"message",font_class:"message",unicode:"e6df",unicode_decimal:59103},{icon_id:"11488144",name:"template",font_class:"template",unicode:"e768",unicode_decimal:59240},{icon_id:"13743903",name:"bytedance",font_class:"bytedance",unicode:"e682",unicode_decimal:59010},{icon_id:"21928403",name:"Exit",font_class:"Exit",unicode:"e60c",unicode_decimal:58892},{icon_id:"22273028",name:"douyin",font_class:"douyin",unicode:"e673",unicode_decimal:58995},{icon_id:"22756072",name:"application",font_class:"application",unicode:"e9f9",unicode_decimal:59897},{icon_id:"29391691",name:"alibaba",font_class:"alibaba",unicode:"e94e",unicode_decimal:59726},{icon_id:"1206932",name:"problem",font_class:"problem",unicode:"e679",unicode_decimal:59001},{icon_id:"1467383",name:"phone",font_class:"phone",unicode:"e69e",unicode_decimal:59038},{icon_id:"4765975",name:"project",font_class:"project",unicode:"e798",unicode_decimal:59288},{icon_id:"4766293",name:"user",font_class:"user",unicode:"e7ae",unicode_decimal:59310},{icon_id:"5821109",name:"technology",font_class:"technology",unicode:"e66b",unicode_decimal:58987},{icon_id:"7206120",name:"profile",font_class:"profile",unicode:"e643",unicode_decimal:58947},{icon_id:"7239590",name:"yuque",font_class:"yuque",unicode:"e713",unicode_decimal:59155},{icon_id:"11488305",name:"product",font_class:"product",unicode:"e788",unicode_decimal:59272},{icon_id:"13743932",name:"gitee",font_class:"gitee",unicode:"e686",unicode_decimal:59014},{icon_id:"18986691",name:"github",font_class:"github",unicode:"e8c6",unicode_decimal:59590},{icon_id:"490590",name:"school",font_class:"school",unicode:"eced",unicode_decimal:60653},{icon_id:"829865",name:"csdn",font_class:"csdn",unicode:"e60a",unicode_decimal:58890},{icon_id:"1444437",name:"email",font_class:"email",unicode:"e712",unicode_decimal:59154}],Qe={id:je,name:qe,font_family:ze,css_prefix_text:Ke,description:We,glyphs:Ge},Ye={id:"toolTip"},Je={class:"render-modal"},Xe=["onClick"],Ze={class:"arrow"},eo=A({__name:"renderModal",props:{toggle:{type:Boolean}},setup(t){const e=o=>{R("\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u7C98\u8D34"),navigator.clipboard.writeText(`icon:${o.name} `)};return(o,u)=>(d(),F("div",Ye,[ue(o.$slots,"default",{},void 0,!0),I(c("div",Je,[(d(!0),F(D,null,P(s(Qe).glyphs,a=>(d(),F("i",{class:V(["iconfont",`icon-${a.name}`]),onClick:l=>e(a)},[c("p",null,B(a.name),1)],10,Xe))),256))],512),[[ee,t.toggle]]),I(c("div",Ze,null,512),[[ee,t.toggle]])]))}});const oo=$(eo,[["__scopeId","data-v-b54a4cec"]]),to={class:"nav"},no={class:"el-dropdown-link"},uo={key:0,for:"import_md"},ao=A({__name:"nav",emits:["export-md","import-md"],setup(t){const e=y(!1);return(o,u)=>{const a=ge,l=ve,i=Fe,r=Be("router-link");return d(),F("ul",to,[(d(!0),F(D,null,P(s(Ie),n=>(d(),F("li",{class:V({active:o.$route.path===n.path})},[n.children?(d(),x(i,{key:0,class:"el-dropdown"},{dropdown:g(()=>[p(l,null,{default:g(()=>[(d(!0),F(D,null,P(n.children,m=>(d(),x(a,null,{default:g(()=>[m.startsWith("\u5BFC\u5165")?(d(),F("label",uo,[M("\u5BFC\u5165MD "),c("input",{accept:".md",id:"import_md",type:"file",onChange:u[0]||(u[0]=f=>o.$emit("import-md",f))},null,32)])):(d(),F("span",{key:1,onClick:u[1]||(u[1]=f=>o.$emit("export-md"))},B(m),1))]),_:2},1024))),256))]),_:2},1024)]),default:g(()=>[c("div",no,B(n.name),1)]),_:2},1024)):(d(),F(D,{key:1},[n.tooltip?(d(),x(oo,{key:1,toggle:e.value},{default:g(()=>[c("i",{class:V(n.icon)},null,2),c("span",{onClick:u[2]||(u[2]=m=>e.value=!e.value)},B(n.name),1)]),_:2},1032,["toggle"])):(d(),x(r,{key:0,to:n.path||""},{default:g(()=>[c("i",{class:V(n.icon)},null,2),M(B(n.name),1)]),_:2},1032,["to"]))],64))],2))),256))])}}});const lo=$(ao,[["__scopeId","data-v-e6de0695"]]),io=""+new URL("../wechat.jpeg",import.meta.url).href,se=t=>(K("data-v-de944047"),t=t(),W(),t),so=se(()=>c("h2",null,"\u6709\u95EE\u9898\u8BF7\u52A0\u5FAE\u4FE1\u53CD\u9988\uFF0C\u8C22\u8C22\u914D\u5408\uFF01",-1)),ro=se(()=>c("img",{width:"400",src:io,alt:"\u6211\u7684\u5FAE\u4FE1"},null,-1)),co=A({__name:"renderDrawer",props:{flag:{type:Boolean}},setup(t){return(e,o)=>{const u=ye;return d(),x(u,{modelValue:t.flag,"onUpdate:modelValue":o[0]||(o[0]=a=>C(flag)?flag.value=a:null),size:"400","with-header":!1,"close-on-press-escape":""},{default:g(()=>[so,ro]),_:1},8,["modelValue"])}}});const mo=$(co,[["__scopeId","data-v-de944047"]]),po=t=>(K("data-v-068c8fd5"),t=t(),W(),t),_o={id:"header"},fo=po(()=>c("label",{for:"resume-name-input"},"\u7B80\u5386\u540D\u79F0\uFF1A",-1)),go={class:"operator"},vo=A({__name:"header",emits:["download-dynamic","download-native","download-md","import-md"],setup(t,{emit:e}){const o=y(""),u=y(!1);E(()=>o.value=document.title);const a=r=>{document.title=o.value,e(`download-${r}`,o.value)},l=r=>{var n;e("import-md",(n=r==null?void 0:r.target)==null?void 0:n.files[0])},i=function(){window.open("https://github.com/acmenlei/markdown-resume-to-pdf")};return(r,n)=>{const m=ne;return d(),F(D,null,[c("div",_o,[c("button",{class:"back",onClick:n[0]||(n[0]=f=>r.$router.back())},"\u8FD4\u56DE\u4E0A\u4E00\u9875"),fo,I(c("input",{id:"resume-name-input",type:"text","onUpdate:modelValue":n[1]||(n[1]=f=>o.value=f)},null,512),[[xe,o.value]]),p(lo,{onExportMd:n[2]||(n[2]=f=>a("md")),onImportMd:l}),c("div",go,[p(m,{content:"\u7ED9\u9879\u76EE\u8D21\u732E\u4EE3\u7801",placement:"bottom-end"},{default:g(()=>[c("i",{class:"iconfont icon-github github",onClick:i})]),_:1}),p(m,{content:"\u95EE\u9898\u53CD\u9988",placement:"bottom-end"},{default:g(()=>[c("i",{class:"iconfont icon-problem problem",onClick:n[3]||(n[3]=()=>u.value=!u.value)})]),_:1}),c("button",{class:"exportor",onClick:n[4]||(n[4]=f=>a("dynamic"))},"\u52A8\u6001\u5BFC\u51FAPDF"),c("button",{class:"exportor",onClick:n[5]||(n[5]=f=>a("native"))},"\u6253\u5370\u673A\u5BFC\u51FAPDF")])]),p(mo,{flag:u.value},null,8,["flag"])],64)}}});const Fo=$(vo,[["__scopeId","data-v-068c8fd5"]]),yo={class:"dialog-footer"},Co=A({__name:"renderDialog",props:{flag:{type:Boolean},title:{default:"\u6E29\u99A8\u63D0\u793A"},confirmText:null,resetText:null},emits:["cancel","confirm"],setup(t){return(e,o)=>{const u=Ce,a=he;return d(),x(a,{modelValue:t.flag,"onUpdate:modelValue":o[2]||(o[2]=l=>C(flag)?flag.value=l:null),title:t.title,width:"30%","align-center":""},{footer:g(()=>[c("span",yo,[p(u,{type:"primary",onClick:o[0]||(o[0]=l=>e.$emit("confirm"))},{default:g(()=>[M(B(t.confirmText),1)]),_:1}),p(u,{type:"primary",onClick:o[1]||(o[1]=l=>e.$emit("cancel"))},{default:g(()=>[M(B(t.resetText),1)]),_:1})])]),default:g(()=>[ue(e.$slots,"default")]),_:3},8,["modelValue","title"])}}}),ho={0:"0%",10:"10%",20:"20%",30:"30%",40:"40%",50:"50%",60:"60%",70:"70%",80:"80%",90:"90%",100:"100%"};function re(t,e,o=1e3*60*60*3){const u={value:e,expires:Date.now()+o};return localStorage.setItem(t,JSON.stringify(u)),!0}function G(t){let e=Date.now(),o=localStorage.getItem(t);if(!o)return!1;let u=JSON.parse(o);return u.expires<e?(localStorage.removeItem(t),!1):u.value}function Eo(t){return G(t)?(localStorage.removeItem(t),!0):!1}const h=G,O=re,wo="custom-css-style",Do="custom-markdown-primary-color",bo="custom_markdown_primary_bg_color",Ao="markdown-font",Bo="auto-one-page",L=1123,S=y(80);function xo(t){S.value=t}function $o(t){function e(o){let u=o.target.files[0],a=URL.createObjectURL(u);t("upload-avatar",a)}return{setAvatar:e}}function ko(t){let e=y(!1),o=wo+"-"+t,u=y(h(o)?h(o):"");function a(){e.value=!e.value}function l(){var f;e.value=!1;let r=u.value.trim(),n=b(o),m=n;!u.value||(n||(n=T(),n.setAttribute(o,"true")),n.textContent=r,!m&&((f=document.head)==null||f.appendChild(n)),O(o,r))}function i(){e.value=!1,le(o),Eo(o),u.value=""}return E(()=>!b(o)&&setTimeout(l,50)),{cssDialog:e,cssText:u,toggleDialog:a,setStyle:l,removeStyle:i}}function So(t){const e=bo+"-"+t,o=Re(t),u=y(h(e)?h(e):o);function a(l){l||(u.value=o,l=o);let i=b(e),r=i;i||(i=T(),i.setAttribute(e,"true")),i.textContent=`:root { --markdown-primary-bg-color: ${l}; }`,!r&&document.head.appendChild(i),O(e,l)}return E(()=>!b(e)&&a(u.value)),{primaryColor:u,setPrimaryColor:a}}function Mo(t){const e=Do+"-"+t,o=Ne(t),u=y(h(e)?h(e):o);function a(l){l||(u.value=o,l=o);let i=b(e),r=i;i||(i=T(),i.setAttribute(e,"true")),i.textContent=`:root { --markdown-primary-color: ${l} }`,!r&&document.head.appendChild(i),O(e,l)}return E(()=>!b(e)&&a(u.value)),{color:u,setColor:a}}function To(t){const e=Ao+"-"+t,o=[{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"\u963F\u91CC\u5DF4\u5DF4\u666E\u60E0\u4F53",label:"\u963F\u91CC\u5DF4\u5DF4\u666E\u60E0\u4F53"},{value:"Menlo-Regular",label:"Menlo-Regular"},{value:"\u4ED3\u8033\u6E14\u9633\u4F53 W02",label:"\u4ED3\u8033\u6E14\u9633\u4F53 W02"}],u=y(h(e)?h(e):"Helvetica Neue");function a(l){let i=b(e),r=i;i||(i=T(),i.setAttribute(e,"true")),i.textContent=`.jufe { font-family: ${l}; }`,!r&&document.head.appendChild(i),O(e,l)}return E(()=>a(u.value)),{fontOptions:o,font:u,setFont:a}}function z(t){let e=0,o=0,u=t.clientHeight,a=document.querySelector(".re-render");for(a.innerHTML="";u-o>1;){const l=H(),i=t.cloneNode(!0);l.classList.add("jufe-wrapper-page");let r=Math.min(u-o,L);const n=H();n.classList.add("jufe-wrapper-page-item"),n.style.height=r+"px",i.style.position="absolute",i.style.top=e+"px",i.style.left=0+"px",n.appendChild(i),l.appendChild(n),e-=L+18,o+=L;const m=H();m.classList.add("jufe-wrapper-page-split"),e+=18,a==null||a.appendChild(l),a==null||a.appendChild(m)}}function Oo(t){const e=Bo+"-"+t,o=y(h(e));async function u(){const a=document.querySelector(".markdown-transform-html");if(o.value){const l=L-(a==null?void 0:a.clientHeight);if(l<0&&l<-200){j("\u4F60\u7684\u5185\u5BB9\u6709\u70B9\u592A\u591A\u5566\uFF01\u538B\u7F29\u6210\u4E00\u9875\u7684\u8BDD\u4E0D\u592A\u7F8E\u89C2\u54E6\uFF5E");return}if(l>0&&l>500){j("\u4F60\u7684\u5185\u5BB9\u6709\u70B9\u592A\u5C11\u4E86\uFF01\u538B\u7F29\u6210\u4E00\u9875\u7684\u8BDD\u4E0D\u592A\u7F8E\u89C2\u54E6\uFF0C\u518D\u586B\u5199\u4E00\u70B9\u5185\u5BB9\u5427\uFF5E");return}const{differenceConfig:i,map:r}=Vo(a);Lo(i,l,r,e)}else le(e);O(e,o.value),z(a)}return E(()=>!b(e)&&setTimeout(u,50)),{autoOnePage:o,setAutoOnePage:u}}function Vo(t){const e=Array.from(t.querySelectorAll("h1,h2,h3,h4,h5,h6,li,p")),o=[],u=new Set,a=new Map;for(let l of e){const i=l.tagName.toLowerCase();if(a.set(i,(a.get(i)||0)+1),u.has(i))continue;u.add(i);const r=+getComputedStyle(l,null).marginTop.slice(0,-2),n={...ke[i],top:r,tag:i};let m=n.top/n.max;n.optimal=m,o.push(n)}return{differenceConfig:o,map:a}}function Lo(t,e,o,u){const a=new Se((n,m)=>e<0?n.optimal>m.optimal:n.optimal<m.optimal);for(let n of t)a.push(n);if(e<0)for(;e++<20;){let n=a.pop();n.top=n.top-1/(o.get(n.tag)||1),n.optimal=n.top/n.max,a.push(n)}else for(;e-- >20;){let n=a.pop();n.top=n.top+1/(o.get(n.tag)||1),n.optimal=n.top/n.max,a.push(n)}const l=T(),i=".jufe ";let r="";l.setAttribute(u,"true");for(let n of a.container)r+=`${i}${n.tag} { margin-top: ${n.top}px; }`;l.textContent=r,document.head.appendChild(l)}const Q=t=>(K("data-v-6f7c4650"),t=t(),W(),t),Po={class:"operator"},Ro={class:"operator-level2"},No=Q(()=>c("label",{for:"upload-avatar",class:"btn upload_avatar operator-item"},"\u4E0A\u4F20\u8BC1\u4EF6\u7167",-1)),Uo=Q(()=>c("label",{for:"primary-color"},"\u5B57\u4F53\u989C\u8272",-1)),Ho=Q(()=>c("label",{for:"primary-color"},"\u4E3B\u8272\u8C03",-1)),Io=A({__name:"tabbar",props:{resumeProps:null},emits:["upload-avatar"],setup(t,{emit:e}){const o=t,{autoOnePage:u,setAutoOnePage:a}=Oo(o.resumeProps.resumeType),{cssDialog:l,cssText:i,toggleDialog:r,setStyle:n,removeStyle:m}=ko(o.resumeProps.resumeType),{color:f,setColor:N}=Mo(o.resumeProps.resumeType),{fontOptions:Y,font:w,setFont:k}=To(o.resumeProps.resumeType),{setAvatar:J}=$o(e),{primaryColor:U,setPrimaryColor:ce}=So(o.resumeProps.resumeType),de=[Le];return(ut,v)=>{const me=Ee,X=ne,Z=we,pe=De,_e=be,fe=Ae;return d(),F(D,null,[c("div",Po,[p(me,{size:"small",class:"slider",marks:s(ho),modelValue:s(S),"onUpdate:modelValue":v[0]||(v[0]=_=>C(S)?S.value=_:null),onChange:s(xo),step:10,"show-stops":""},null,8,["marks","modelValue","onChange"]),c("div",Ro,[p(X,{content:"\u4E0A\u4F20\u524D\u8BF7\u786E\u4FDD\u4F60\u60F3\u4E0A\u4F20\u7684\u4F4D\u7F6E\u5728\u7F16\u8F91\u5668\u4E2D\u5B58\u5728 ![\u4E2A\u4EBA\u5934\u50CF](...) \u6B64\u5173\u952E\u5B57"},{default:g(()=>[No]),_:1}),c("input",{type:"file",id:"upload-avatar",accept:".png,.jpg,.jpeg",onChange:v[1]||(v[1]=(..._)=>s(J)&&s(J)(..._))},null,32),c("button",{class:"btn custom_css operator-item",onClick:v[2]||(v[2]=(..._)=>s(r)&&s(r)(..._))},"DIY\u7B80\u5386"),Uo,p(Z,{id:"primary-color",class:"operator-item",onChange:s(N),size:"small",modelValue:s(f),"onUpdate:modelValue":v[3]||(v[3]=_=>C(f)?f.value=_:null)},null,8,["onChange","modelValue"]),M(" \xA0\xA0 "),Ho,p(Z,{id:"primary-bg-color",class:"operator-item",onChange:s(ce),size:"small",modelValue:s(U),"onUpdate:modelValue":v[4]||(v[4]=_=>C(U)?U.value=_:null)},null,8,["onChange","modelValue"]),p(X,{content:"\u81EA\u52A8\u4E00\u9875",placement:"bottom"},{default:g(()=>[p(pe,{class:"operator-item",size:"small",onChange:s(a),modelValue:s(u),"onUpdate:modelValue":v[5]||(v[5]=_=>C(u)?u.value=_:null)},null,8,["onChange","modelValue"])]),_:1}),p(fe,{modelValue:s(w),"onUpdate:modelValue":v[6]||(v[6]=_=>C(w)?w.value=_:null),class:"operator-item",onChange:s(k),placement:"bottom",size:"small"},{default:g(()=>[(d(!0),F(D,null,P(s(Y),_=>(d(),x(_e,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])]),p(Co,{"confirm-text":"\u8BBE\u7F6E\u6837\u5F0F","reset-text":"\u91CD\u7F6E\u6837\u5F0F",title:"\u4F60\u53EF\u4EE5\u5728\u8FD9\u91CC\u7F16\u5199CSS\u6837\u5F0F\uFF0C\u8BA9\u5B83\u4F5C\u7528\u5728\u7B80\u5386\u4E0A\uFF01",flag:s(l),onConfirm:s(n),onCancel:s(m)},{default:g(()=>[p(s(ie),{modelValue:s(i),"onUpdate:modelValue":v[7]||(v[7]=_=>C(i)?i.value=_:null),autofocus:!0,style:{height:"500px"},"indent-with-tab":!0,extensions:de,placeholder:"\u683C\u5F0F\u5982.jufe h2 { color: red; }"},null,8,["modelValue"])]),_:1},8,["flag","onConfirm","onCancel"])],64)}}});const jo=$(Io,[["__scopeId","data-v-6f7c4650"]]),qo="markdown-content",te=G;function zo(t){const e=y(document.body);return E(()=>{Te(t.resumeType),e.value.innerHTML=q(t.content),setTimeout(()=>z(e.value),100)}),oe(()=>t.content,o=>{e.value.innerHTML=q(o),setTimeout(()=>z(e.value),50)}),oe(()=>t.resumeType,()=>{location.reload()}),{renderDOM:e}}function Ko(t){const e=qo+"-"+t.value;let o=y(te(e)?te(e):Me(t.value));function u(a){!a||(o.value=a,re(e,o.value))}return{content:o,setContent:u}}function Wo(){const t=Ue(),e=y(t.query.type?String(t.query.type):"front_end");return E(()=>{e.value=t.query.type?String(t.query.type):"front_end"}),{resumeType:e}}function Go(t,e){const o=He();return{downloadMD:()=>{const i=new Blob([e.value]),r=URL.createObjectURL(i),n=document.createElement("a");n.download=document.title+".md",n.href=r,n.click(),URL.revokeObjectURL(r),R("\u5BFC\u51FA\u6210\u529F~")},downloadDynamic:i=>{Oe(i,document.querySelector(".jufe"))},downloadNative:()=>{localStorage.setItem("download",JSON.stringify(q(e.value))),o.push({path:"/download",query:{type:t.value}})}}}function Qo(t){function e(o){const u=new FileReader;u.readAsText(o,"utf-8"),u.onload=function(a){var l;R("\u5BFC\u5165\u6210\u529F~"),t(((l=a.target)==null?void 0:l.result)||"")},u.onerror=function(){Ve("\u5BFC\u5165\u5931\u8D25!")}}return{importMD:e}}function Yo(){let t=y(700),e=!1;function o(l){!e||(t.value=l.clientX)}function u(){e=!0}function a(){e=!1}return E(()=>{window.addEventListener("mouseup",a),window.addEventListener("mousemove",o)}),$e(()=>{window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",o)}),{left:t,move:o,down:u}}function Jo(t,e){const o=/!\[个人头像\]\(.*\)/;function u(a){if(!o.test(t.value)){j("\u4E0A\u4F20\u524D\u8BF7\u786E\u4FDD\u4F60\u60F3\u4E0A\u4F20\u7684\u4F4D\u7F6E\u5728\u7F16\u8F91\u5668\u4E2D\u5B58\u5728 ![\u4E2A\u4EBA\u5934\u50CF](...) \u6B64\u5173\u952E\u5B57");return}const l=t.value.replace(o,`![\u4E2A\u4EBA\u5934\u50CF](${a})`);e(l),R("\u5934\u50CF\u4E0A\u4F20\u6210\u529F\uFF0C\u5982\u679C\u4F60\u60F3\u4FEE\u6539\u4E3A\u7F51\u7EDC\u56FE\u7247\uFF0C\u4F60\u53EF\u76F4\u63A5\u4FEE\u6539\u5BF9\u5E94\u7684\u94FE\u63A5\uFF01")}return{setAvatar:u}}const Xo={class:"outer"},Zo=A({__name:"render",props:{content:null,resumeType:null},emits:["upload-avatar"],setup(t){const e=t,{renderDOM:o}=zo(e);return(u,a)=>(d(),F("div",Xo,[p(jo,{resumeProps:e,onUploadAvatar:a[0]||(a[0]=l=>u.$emit("upload-avatar",l))},null,8,["resumeProps"]),c("div",{ref_key:"renderDOM",ref:o,class:"markdown-transform-html jufe"},null,512),c("div",{class:"re-render",style:ae({transform:`scale(${s(S)/100})`})},null,4)]))}});const et=$(Zo,[["__scopeId","data-v-03fcd7ad"]]),ot={id:"root"},tt={class:"markdown-edit"},nt=A({__name:"editor",setup(t){const{resumeType:e}=Wo(),{content:o,setContent:u}=Ko(e),{downloadDynamic:a,downloadNative:l,downloadMD:i}=Go(e,o),{importMD:r}=Qo(u),{setAvatar:n}=Jo(o,u),{left:m,down:f}=Yo(),N=[Pe];return(Y,w)=>(d(),F(D,null,[p(Fo,{onDownloadDynamic:s(a),onDownloadNative:s(l),onDownloadMd:s(i),onImportMd:s(r)},null,8,["onDownloadDynamic","onDownloadNative","onDownloadMd","onImportMd"]),c("div",ot,[c("div",tt,[p(s(ie),{modelValue:s(o),"onUpdate:modelValue":w[0]||(w[0]=k=>C(o)?o.value=k:null),style:ae({height:"100vh",width:`${s(m)}px`}),autofocus:!0,"indent-with-tab":!0,extensions:N,onChange:s(u)},null,8,["modelValue","style","onChange"]),c("div",{class:"move absolute",onMousedown:w[1]||(w[1]=(...k)=>s(f)&&s(f)(...k))},null,32)]),p(et,{class:"markdown-render",resumeType:s(e),content:s(o),onUploadAvatar:s(n)},null,8,["resumeType","content","onUploadAvatar"])])],64))}});const kt=$(nt,[["__scopeId","data-v-23f57cf2"]]);export{kt as default};
