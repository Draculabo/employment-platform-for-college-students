var _=Object.defineProperty;var w=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var p=(e,t,n)=>(w(e,typeof t!="symbol"?t+"":t,n),n);import{_ as l,E as y}from"./jspdf.e38c6af2.js";import E from"./html2canvas.4d0ab5af.js";import{t as C}from"./theme.a2bcd598.js";import{E as g,a as x}from"./element-plus.5f2c21fa.js";function D(e){g({showClose:!0,message:e,type:"success"})}function k(e){g({showClose:!0,message:e,type:"warning"})}function F(e){g({showClose:!0,message:e,type:"error"})}const P=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((a,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})};async function B(e){return(await P(Object.assign({"../../assets/styles/common.css":()=>l(()=>Promise.resolve({}),["./common.e7bafcd9.css"],import.meta.url),"../../assets/styles/front_end.css":()=>l(()=>Promise.resolve({}),["./front_end.98e03a4d.css"],import.meta.url),"../../assets/styles/internet.css":()=>l(()=>Promise.resolve({}),["./internet.9512ca50.css"],import.meta.url),"../../assets/styles/operation.css":()=>l(()=>Promise.resolve({}),["./operation.541f82df.css"],import.meta.url)}),`../../assets/styles/${e}.css`)).default}const H=e=>{for(let t of C)if(e===t.type)return t.content;return""},O={h1:{max:30,min:-10,top:0,tag:"",optimal:0},h2:{max:20,min:-10,top:0,tag:"",optimal:0},h3:{max:20,min:-10,top:0,tag:"",optimal:0},h4:{max:20,min:-10,top:0,tag:"",optimal:0},h5:{max:20,min:-10,top:0,tag:"",optimal:0},h6:{max:20,min:-10,top:0,tag:"",optimal:0},li:{max:10,min:-10,top:0,tag:"",optimal:0},p:{max:10,min:-10,top:0,tag:"",optimal:0}},L=(e,t)=>e.optimal>t.optimal,h=(e,t,n)=>[e[t],e[n]]=[e[n],e[t]];class S{constructor(t){p(this,"container",[]);p(this,"cmp",L);this.cmp=t}push(t){const{container:n,cmp:a}=this;n.push(t);let o=n.length-1;for(;o;){let i=Math.floor((o-1)/2);if(!a(n[o],n[i]))return;h(n,o,i),o=i}}pop(){const{container:t,cmp:n}=this;if(!t.length)return null;h(t,0,t.length-1);const a=t.pop(),o=t.length;let i=0,s=i*2+1;for(;s<o;){let r=i*2+2;if(r<o&&n(t[r],t[s])&&(s=r),!n(t[s],t[i]))break;h(t,s,i),i=s,s=i*2+1}return a}top(){return this.container.length?this.container[0]:null}isEmpty(){return this.container.length===0}}function q(){return document.createElement("style")}function V(){return document.createElement("div")}function M(e){return document.head.querySelector(`style[${e}]`)}function $(e){var t;(t=M(e))==null||t.remove()}function U(e,t){const{showLoading:n,closeLoading:a}=v();n("\u6B63\u5728\u5BFC\u51FAPDF \u8BF7\u8010\u5FC3\u7B49\u5F85..."),E(t,{allowTaint:!1,logging:!1,useCORS:!0,scale:4}).then(o=>{var f;const i=new y("p","mm","a4"),s=o.getContext("2d"),r=210,d=297,c=Math.floor(d*o.width/r);let u=0;for(;u<o.height;){const m=document.createElement("canvas");m.width=o.width,m.height=Math.min(c,o.height-u),(f=m.getContext("2d"))==null||f.putImageData(s==null?void 0:s.getImageData(0,u,o.width,Math.min(c,o.height-u)),0,0),i.addImage(m.toDataURL("image/jpeg",1),"JPEG",0,0,r,Math.min(d,r*m.height/m.width)),u+=c,o.height-u>11&&i.addPage()}i.save(`${e}.pdf`),D("PDF\u5BFC\u51FA\u6210\u529F")}).catch(o=>{F("\u5BFC\u51FA\u5931\u8D25, "+o)}).finally(a)}function v(){let e=null;function t(a){e=x.service({lock:!0,text:a,background:"rgba(0, 0, 0, 0.7)"})}function n(){e&&e.close()}return{showLoading:t,closeLoading:n}}export{S as H,V as a,U as b,q as c,H as g,B as i,O as o,M as q,$ as r,D as s,k as w};
