var d=Object.defineProperty;var f=(e,t,o)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var c=(e,t,o)=>(f(e,typeof t!="symbol"?t+"":t,o),o);import{_ as a,E}from"./jspdf.93f2685e.js";import y from"./html2canvas.4d0ab5af.js";import{t as w}from"./config.7341e944.js";import{p as D}from"./element-plus.33eaa91b.js";import{s as P,e as v}from"./index.e95f406b.js";const L=(e,t)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t)))})};async function b(e){return(await L(Object.assign({"../../templates/business/style.scss":()=>a(()=>Promise.resolve({}),["./style.ae48c66b.css"],import.meta.url),"../../templates/concise/style.scss":()=>a(()=>Promise.resolve({}),["./style.d072b04d.css"],import.meta.url),"../../templates/front_end/style.scss":()=>a(()=>Promise.resolve({}),["./style.b81f1809.css"],import.meta.url),"../../templates/general/style.scss":()=>a(()=>Promise.resolve({}),["./style.07bd799b.css"],import.meta.url),"../../templates/internet/style.scss":()=>a(()=>Promise.resolve({}),["./style.6091b044.css"],import.meta.url),"../../templates/internet_avatar/style.scss":()=>a(()=>Promise.resolve({}),["./style.91e011ce.css"],import.meta.url),"../../templates/internet_social/style.scss":()=>a(()=>Promise.resolve({}),["./style.a881a959.css"],import.meta.url),"../../templates/operation/style.scss":()=>a(()=>Promise.resolve({}),["./style.3b02fb05.css"],import.meta.url),"../../templates/operation_avatar/style.scss":()=>a(()=>Promise.resolve({}),["./style.fc756bb2.css"],import.meta.url)}),`../../templates/${e}/style.scss`)).default}const M=e=>{for(let t of w)if(e===t.type)return t.content;return""},k={h1:{max:30,min:-15,top:0,tag:"",optimal:0},h2:{max:30,min:-15,top:0,tag:"",optimal:0},h3:{max:20,min:-15,top:0,tag:"",optimal:0},h4:{max:20,min:-15,top:0,tag:"",optimal:0},h5:{max:20,min:-15,top:0,tag:"",optimal:0},h6:{max:20,min:-15,top:0,tag:"",optimal:0},li:{max:10,min:-15,top:0,tag:"",optimal:0},p:{max:10,min:-15,top:0,tag:"",optimal:0}},I=(e,t)=>e.optimal>t.optimal,h=(e,t,o)=>[e[t],e[o]]=[e[o],e[t]];class B{constructor(t){c(this,"container",[]);c(this,"cmp",I);this.cmp=t}push(t){const{container:o,cmp:s}=this;o.push(t);let i=o.length-1;for(;i;){let n=Math.floor((i-1)/2);if(!s(o[i],o[n]))return;h(o,i,n),i=n}}pop(){const{container:t,cmp:o}=this;if(!t.length)return null;h(t,0,t.length-1);const s=t.pop(),i=t.length;let n=0,r=n*2+1;for(;r<i;){let m=n*2+2;if(m<i&&o(t[m],t[r])&&(r=m),!o(t[r],t[n]))break;h(t,r,n),n=r,r=n*2+1}return s}top(){return this.container.length?this.container[0]:null}isEmpty(){return this.container.length===0}}function H(){return document.createElement("style")}function S(){return document.createElement("div")}function x(e){return document.head.querySelector(`style[${e}]`)}function q(e){var t;(t=x(e))==null||t.remove()}function $(e,t){const{showLoading:o,closeLoading:s}=A();o("\u6B63\u5728\u5BFC\u51FAPDF \u8BF7\u8010\u5FC3\u7B49\u5F85..."),y(t,{allowTaint:!1,logging:!1,useCORS:!0,scale:4}).then(i=>{var _;const n=new E("p","mm","a4"),r=i.getContext("2d"),m=210,g=297,p=Math.floor(g*i.width/m);let l=0;for(;l<i.height;){const u=document.createElement("canvas");u.width=i.width,u.height=Math.min(p,i.height-l),(_=u.getContext("2d"))==null||_.putImageData(r==null?void 0:r.getImageData(0,l,i.width,Math.min(p,i.height-l)),0,0),n.addImage(u.toDataURL("image/jpeg",1),"JPEG",0,0,m,Math.min(g,m*u.height/u.width)),l+=p,i.height-l>1&&n.addPage()}n.save(`${e}.pdf`),P("PDF\u5BFC\u51FA\u6210\u529F")}).catch(i=>{v("\u5BFC\u51FA\u5931\u8D25, "+i)}).finally(s)}function A(){let e=null;function t(s){e=D.service({lock:!0,text:s,background:"rgba(0, 0, 0, 0.7)"})}function o(){e&&e.close()}return{showLoading:t,closeLoading:o}}export{B as H,S as a,$ as b,H as c,M as g,b as i,k as o,x as q,q as r};
